<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Five Elements</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #F7F3EF;
            color: #374151;
        }
        .element, .relation-arrow {
            cursor: pointer;
            transition: opacity 0.2s ease-in-out;
        }
        .element:hover, .relation-arrow:hover {
            opacity: 0.7;
        }
        .element-emoji {
            font-size: 4.5rem;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        .generation-arrow {
            stroke: #6ee7b7;
            stroke-width: 6;
            fill: none;
            marker-end: url(#arrow-gen);
        }
        .restraint-arrow {
            stroke: #f87171;
            stroke-width: 6;
            fill: none;
            marker-end: url(#arrow-res);
        }
        .clickable-path {
            stroke-width: 25;
            stroke: transparent;
            fill: none;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

    <!-- Header -->
    <header class="w-full max-w-4xl mx-auto px-4 py-2 flex justify-between items-center">
        <a href="index.html" class="text-lg font-semibold text-gray-700 hover:text-gray-900 transition-colors">
            &larr; Interactive TCM
        </a>
        <a href="#" onclick="toggleLanguage(event)" class="px-3 py-1 text-stone-700 rounded-md text-sm font-bold hover:bg-stone-300 transition-colors" style="background-color: #EAE5E0;">
            Kor / Eng
        </a>
    </header>

    <!-- Main Content -->
    <main class="w-full max-w-4xl mx-auto flex-grow flex flex-col lg:flex-row items-center justify-center gap-8 mt-4">
        
        <!-- Five Elements Diagram -->
        <div class="relative w-full max-w-md aspect-square">
            <svg id="five-elements-svg" viewBox="0 0 500 500" class="w-full h-full">
                <!-- Arrow Markers -->
                <defs>
                    <marker id="arrow-gen" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                        <path d="M 0 0 L 10 5 L 0 10 z" fill="#6ee7b7"></path>
                    </marker>
                    <marker id="arrow-res" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                        <path d="M 0 0 L 10 5 L 0 10 z" fill="#f87171"></path>
                    </marker>
                </defs>

                <!-- Generation Arrows (ç›¸ç”Ÿ) -->
                <g class="relation-arrow" data-relation="water_wood"><path class="generation-arrow" d="M 105 359 A 220 220 0 0 1 74 286"></path><path class="clickable-path" d="M 105 359 A 220 220 0 0 1 74 286"></path></g>
                <g class="relation-arrow" data-relation="wood_fire"><path class="generation-arrow" d="M 105 133 A 220 220 0 0 1 165 78"></path><path class="clickable-path" d="M 105 133 A 220 220 0 0 1 165 78"></path></g>
                <g class="relation-arrow" data-relation="fire_earth"><path class="generation-arrow" d="M 335 78 A 220 220 0 0 1 395 133"></path><path class="clickable-path" d="M 335 78 A 220 220 0 0 1 395 133"></path></g>
                <g class="relation-arrow" data-relation="earth_metal"><path class="generation-arrow" d="M 426 286 A 220 220 0 0 1 395 359"></path><path class="clickable-path" d="M 426 286 A 220 220 0 0 1 395 359"></path></g>
                <g class="relation-arrow" data-relation="metal_water"><path class="generation-arrow" d="M 290 405 A 220 220 0 0 1 210 405"></path><path class="clickable-path" d="M 290 405 A 220 220 0 0 1 210 405"></path></g>

                <!-- Restraint Arrows (ç›¸å‰‹) -->
                <g class="relation-arrow" data-relation="wood_earth"><path class="restraint-arrow" d="M 149 194 L 351 194"></path><path class="clickable-path" d="M 149 194 L 351 194"></path></g>
                <g class="relation-arrow" data-relation="earth_water"><path class="restraint-arrow" d="M 365 230 L 200 359"></path><path class="clickable-path" d="M 365 230 L 200 359"></path></g>
                <g class="relation-arrow" data-relation="water_fire"><path class="restraint-arrow" d="M 181 341 L 244 139"></path><path class="clickable-path" d="M 181 341 L 244 139"></path></g>
                <g class="relation-arrow" data-relation="fire_metal"><path class="restraint-arrow" d="M 256 139 L 319 341"></path><path class="clickable-path" d="M 256 139 L 319 341"></path></g>
                <g class="relation-arrow" data-relation="metal_wood"><path class="restraint-arrow" d="M 300 359 L 135 230"></path><path class="clickable-path" d="M 300 359 L 135 230"></path></g>
                
                <!-- Elements -->
                <g class="element" data-element="fire" transform="translate(250, 70)">
                    <circle cx="0" cy="0" r="40" fill="transparent"></circle>
                    <text class="element-emoji" x="0" y="0" dominant-baseline="middle" text-anchor="middle">ğŸ”¥</text>
                </g>
                <g class="element" data-element="earth" transform="translate(421, 194)">
                    <circle cx="0" cy="0" r="40" fill="transparent"></circle>
                    <text class="element-emoji" x="0" y="0" dominant-baseline="middle" text-anchor="middle">ğŸ§±</text>
                </g>
                <g class="element" data-element="metal" transform="translate(356, 395)">
                    <circle cx="0" cy="0" r="40" fill="transparent"></circle>
                    <text class="element-emoji" x="0" y="0" dominant-baseline="middle" text-anchor="middle">âš™ï¸</text>
                </g>
                 <g class="element" data-element="water" transform="translate(144, 395)">
                    <circle cx="0" cy="0" r="40" fill="transparent"></circle>
                    <text class="element-emoji" x="0" y="0" dominant-baseline="middle" text-anchor="middle">ğŸ’§</text>
                </g>
                <g class="element" data-element="wood" transform="translate(79, 194)">
                    <circle cx="0" cy="0" r="40" fill="transparent"></circle>
                    <text class="element-emoji" x="0" y="0" dominant-baseline="middle" text-anchor="middle">ğŸŒ³</text>
                </g>
            </svg>
        </div>

        <!-- Information Display -->
        <div id="info-display" class="w-full lg:w-1/2 bg-white/50 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200 min-h-[300px] overflow-y-auto max-h-[500px]">
            <h2 id="info-title" class="text-2xl font-bold text-gray-800 mb-4"></h2>
            <div id="info-content" class="text-gray-700 space-y-3"></div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="w-full text-center py-6 text-gray-600 text-sm mt-8">
        Â© 2024 Hyungsuk Choi. All Rights Reserved.
    </footer>

    <script>
        const translations = {
            ko: {
                welcome_title: "ì˜¤í–‰(äº”è¡Œ)",
                welcome_content: "ê° ì›ì†Œë‚˜ ê´€ê³„ í™”ì‚´í‘œë¥¼ í´ë¦­í•˜ì—¬ ìì„¸í•œ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.",
                elements: {
                    wood: { title: "ëª©(æœ¨)ì˜ ì†ì„±", content: `<strong>íŠ¹ì§•:</strong> í¼ì§€ê³  ë¹ ë¥´ë‹¤ (ìƒˆì‹¹, ë°”ëŒ)<br><strong>ê°œë…:</strong> ê³¡ì§(æ›²ç›´) - ìŠ¤í”„ë§ì²˜ëŸ¼ êµ½ì€ ê²ƒì´ í´ì§€ëŠ” í˜` },
                    fire: { title: "í™”(ç«)ì˜ ì†ì„±", content: `<strong>íŠ¹ì§•:</strong> ì˜¤ë¥´ê³  ëœ¨ê²ë‹¤ (ë¶ˆê½ƒ)<br><strong>ê°œë…:</strong> ì—¼ìƒ(ç‚ä¸Š) - ìœ„ë¡œ ë¶ˆíƒ€ì˜¤ë¥´ëŠ” í˜•ìƒ` },
                    earth: { title: "í† (åœŸ)ì˜ ì†ì„±", content: `<strong>íŠ¹ì§•:</strong> ìì–‘ê³¼ ê´€ë¦¬ (ëŒ€ì§€)<br><strong>ê°œë…:</strong> ê°€ìƒ‰(ç¨¼ç©¡) - ë†ì‚°ë¬¼ì„ ì‹¬ê³  ê±°ë‘ëŠ” ê²ƒ` },
                    metal: { title: "ê¸ˆ(é‡‘)ì˜ ì†ì„±", content: `<strong>íŠ¹ì§•:</strong> ëª¨ìœ¼ê³  ë‹¨ë‹¨í•˜ë‹¤ (ë‹¨ë ¨ë˜ëŠ” ì‡ )<br><strong>ê°œë…:</strong> ì¢…í˜(å¾é©) - ì‡ ê°€ ë‹´ê¸ˆì§ˆë¡œ í˜•íƒœê°€ ë³€í•¨` },
                    water: { title: "ìˆ˜(æ°´)ì˜ ì†ì„±", content: `<strong>íŠ¹ì§•:</strong> ë‚´ë¦¬ê³  ì°¨ê°‘ë‹¤ (í­í¬ìˆ˜)<br><strong>ê°œë…:</strong> ìœ¤í•˜(æ½¤ä¸‹) - ë¬¼ì´ í˜ëŸ¬ë‚´ë¦¬ëŠ” ê²ƒ` }
                },
                relations: {
                    wood_fire: { title: "ëª©(æœ¨) â†’ í™”(ç«)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>ëª©ìƒí™”:</strong> ë‚˜ë¬´ëŠ” ë¶ˆì˜ ë•”ê°ì´ ë˜ì–´ ë¶ˆì„ ë” ê°•í•˜ê²Œ í•©ë‹ˆë‹¤. ê°•í•˜ê³  ìœ„ë¡œ ì†ŸëŠ” ë‚˜ë¬´ì˜ ê¸°ìš´ì´ ê°€ì§€ë¥¼ ë»—ê³  í¼ì ¸ë‚˜ê°€ëŠ” ë¶ˆì˜ ì„±ì§ˆì„ ë‚³ìŠµë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>ëª©ë¶ˆìƒí™”:</strong> ë‚˜ë¬´ê°€ ë¶€ì¡±í•˜ë©´ ë¶ˆì„ ë§Œë“¤ì§€ ëª»í•©ë‹ˆë‹¤.</p>` },
                    fire_earth: { title: "í™”(ç«) â†’ í† (åœŸ)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>í™”ìƒí† :</strong> ë¶ˆì´ íƒ€ê³  ë‚¨ì€ ì¬ëŠ” í™ì˜ ì¼ë¶€ê°€ ë©ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>í™”ë¶ˆìƒí† :</strong> ë¶ˆì´ ë„ˆë¬´ ì•½í•˜ë©´ ì¬(í™)ê°€ ê±°ì˜ ìƒê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>` },
                    earth_metal: { title: "í† (åœŸ) â†’ ê¸ˆ(é‡‘)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>í† ìƒê¸ˆ:</strong> ì‡ ëŠ” ë•… ì†ì—ì„œ í˜•ì„±ë©ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>í† ë¶ˆìƒê¸ˆ:</strong> í™ì´ ì²™ë°•í•˜ë©´ ì‡ (ê´‘ì„)ê°€ ë§Œë“¤ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>` },
                    metal_water: { title: "ê¸ˆ(é‡‘) â†’ ìˆ˜(æ°´)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>ê¸ˆìƒìˆ˜:</strong> ì°¨ê°€ìš´ ì‡ ì˜ í‘œë©´ì— ë¬¼ë°©ìš¸ì´ ë§ºí™ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>ê¸ˆë¶ˆìƒìˆ˜:</strong> ì‡ ê°€ ëœ¨ê±°ìš°ë©´ ë¬¼ë°©ìš¸ì´ ë§ºíˆì§€ ì•ŠìŠµë‹ˆë‹¤.</p>` },
                    water_wood: { title: "ìˆ˜(æ°´) â†’ ëª©(æœ¨)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>ìˆ˜ìƒëª©:</strong> ë¬¼ì€ ë‚˜ë¬´ì˜ ì„±ì¥ì„ ì´‰ì§„í•©ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>ìˆ˜ë¶ˆìƒëª©:</strong> ë¬¼ì´ ë„ˆë¬´ ì ìœ¼ë©´ ë‚˜ë¬´ê°€ ìë¼ì§€ ëª»í•©ë‹ˆë‹¤.</p>` },
                    wood_earth: { title: "ëª©(æœ¨) â†” í† (åœŸ)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>ëª©ê·¹í† :</strong> ë‚˜ë¬´ëŠ” ë¿Œë¦¬ë¡œ ë•…ì„ íŒŒê³ ë“­ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>ëª©ìŠ¹í† :</strong> ë‚˜ë¬´ê°€ ì§€ë‚˜ì¹˜ê²Œ í¬ë©´ í™ì˜ ì–‘ë¶„ì„ ê³ ê°ˆì‹œí‚µë‹ˆë‹¤.</p><p><strong>í† ëª¨ëª©:</strong> ë‹¨ë‹¨í•œ ì•”ì„ì—ëŠ” ë‚˜ë¬´ê°€ ë¿Œë¦¬ë¥¼ ë‚´ë¦¬ì§€ ëª»í•©ë‹ˆë‹¤.</p>` },
                    earth_water: { title: "í† (åœŸ) â†” ìˆ˜(æ°´)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>í† ê·¹ìˆ˜:</strong> í™ì€ ë¬¼ì„ ë§‰ê±°ë‚˜ í¡ìˆ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>í† ìŠ¹ìˆ˜:</strong> ë•…ì´ ë„ˆë¬´ ê´‘ëŒ€í•˜ë©´ ë¬¼ì„ ë§ë ¤ë²„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>ìˆ˜ëª¨í† :</strong> ë¬¼ì´ ì§€ë‚˜ì¹˜ê²Œ ë§ìœ¼ë©´ í™ìœ¼ë¡œë„ ë§‰ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>` },
                    water_fire: { title: "ìˆ˜(æ°´) â†” í™”(ç«)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>ìˆ˜ê·¹í™”:</strong> ë¬¼ì€ ë¶ˆì„ ë•ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>ìˆ˜ìŠ¹í™”:</strong> ë¬¼ì´ ì—´ì„ ì´ˆê³¼í•˜ë©´ ë¶ˆì´ êº¼ì§€ê±°ë‚˜ ì–¼ì–´ë¶™ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>í™”ëª¨ìˆ˜:</strong> ë¶ˆì´ ë„ˆë¬´ ê°•í•˜ë©´ ë¬¼ì„ ì¦ë°œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>` },
                    fire_metal: { title: "í™”(ç«) â†” ê¸ˆ(é‡‘)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>í™”ê·¹ê¸ˆ:</strong> ë¶ˆì€ ì‡ ë¥¼ ë…¹ì…ë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>í™”ìŠ¹ê¸ˆ:</strong> ê°•í•œ ë¶ˆì€ ì‡ ë¥¼ ë…¹ì—¬ ì“¸ëª¨ì—†ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>ê¸ˆëª¨í™”:</strong> ì‘ì€ ë¶ˆê½ƒìœ¼ë¡œëŠ” í° ì‡³ë©ì´ë¥¼ ë…¹ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>` },
                    metal_wood: { title: "ê¸ˆ(é‡‘) â†” ëª©(æœ¨)", content: `<h3 class='font-bold text-lg text-sky-700'>ìƒë¦¬ì  ê´€ê³„</h3><p><strong>ê¸ˆê·¹ëª©:</strong> ì‡  ë„êµ¬ëŠ” ë‚˜ë¬´ë¥¼ ë² ì–´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>ë³‘ë¦¬ì  ê´€ê³„</h3><p><strong>ê¸ˆìŠ¹ëª©:</strong> ì‡  ë„êµ¬ë¡œ ê³¼ë„í•˜ê²Œ ë² ë©´ ë‚˜ë¬´ë¥¼ íŒŒê´´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>ëª©ëª¨ê¸ˆ:</strong> ì‘ì€ ì‡ ë¶™ì´ë¡œëŠ” í° ë‚˜ë¬´ë¥¼ ë²¨ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>` }
                }
            },
            en: {
                welcome_title: "Five Elements",
                welcome_content: "Click on an element or a relationship arrow to see the details.",
                elements: {
                    wood: { title: "Properties of Wood (æœ¨)", content: `<strong>Characteristics:</strong> Spreading and fast (sprout, wind)<br><strong>Concept:</strong> QÅ« ZhÃ­ (æ›²ç›´) - The force of a bent spring straightening.` },
                    fire: { title: "Properties of Fire (ç«)", content: `<strong>Characteristics:</strong> Rising and hot (flame)<br><strong>Concept:</strong> YÃ¡n ShÃ ng (ç‚ä¸Š) - The shape of flaring upwards.` },
                    earth: { title: "Properties of Earth (åœŸ)", content: `<strong>Characteristics:</strong> Nurturing and managing (earth)<br><strong>Concept:</strong> JiÃ  SÃ¨ (ç¨¼ç©¡) - Planting and harvesting crops.` },
                    metal: { title: "Properties of Metal (é‡‘)", content: `<strong>Characteristics:</strong> Gathering and hard (refined metal)<br><strong>Concept:</strong> CÃ³ng GÃ© (å¾é©) - Metal changing form through tempering.` },
                    water: { title: "Properties of Water (æ°´)", content: `<strong>Characteristics:</strong> Descending and cold (waterfall)<br><strong>Concept:</strong> RÃ¹n XiÃ  (æ½¤ä¸‹) - Water flowing downwards.` }
                },
                relations: {
                    wood_fire: { title: "Wood â†’ Fire", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Wood Generates Fire:</strong> Wood serves as fuel, helping fire to burn more intensely. The strong, upward-rising energy of Wood gives rise to the branching, dispersing nature of Fire.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Wood Fails to Generate Fire:</strong> If there is not enough wood, fire cannot be made.</p>` },
                    fire_earth: { title: "Fire â†’ Earth", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Fire Generates Earth:</strong> When fire burns out, it leaves behind ash, which becomes part of the earth.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Fire Fails to Generate Earth:</strong> If the fire is too weak, it produces very little ash (earth).</p>` },
                    earth_metal: { title: "Earth â†’ Metal", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Earth Generates Metal:</strong> Metal is formed within the earth.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Earth Fails to Generate Metal:</strong> If the soil is barren, metal (ore) cannot be created.</p>` },
                    metal_water: { title: "Metal â†’ Water", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Metal Generates Water:</strong> Condensation forms on cold metal surfaces.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Metal Fails to Generate Water:</strong> If the metal is hot, condensation will not form.</p>` },
                    water_wood: { title: "Water â†’ Wood", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Water Generates Wood:</strong> Water nourishes and promotes the growth of wood.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Water Fails to Generate Wood:</strong> If there is too little water, wood cannot grow.</p>` },
                    wood_earth: { title: "Wood â†” Earth", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Wood Controls Earth:</strong> Trees dig into the ground with their roots.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Wood Overacts on Earth:</strong> An excessively large tree can deplete the nutrients in the soil.</p><p><strong>Earth Insults Wood:</strong> Trees cannot take root in hard rock.</p>` },
                    earth_water: { title: "Earth â†” Water", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Earth Controls Water:</strong> Soil can block or absorb water.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Earth Overacts on Water:</strong> If the land is too vast, it can dry up the water.</p><p><strong>Water Insults Earth:</strong> An excess of water cannot be controlled even by earth.</p>` },
                    water_fire: { title: "Water â†” Fire", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Water Controls Fire:</strong> Water extinguishes fire.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Water Overacts on Fire:</strong> When water far exceeds heat, it can cause the fire to be extinguished or frozen.</p><p><strong>Fire Insults Water:</strong> When fire is too intense, it can cause water to evaporate.</p>` },
                    fire_metal: { title: "Fire â†” Metal", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Fire Controls Metal:</strong> Fire melts metal.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Fire Overacts on Metal:</strong> Intense fire can melt metal to the point of making it unusable.</p><p><strong>Metal Insults Fire:</strong> A large chunk of metal cannot be melted with a small flame.</p>` },
                    metal_wood: { title: "Metal â†” Wood", content: `<h3 class='font-bold text-lg text-sky-700'>Physiological</h3><p><strong>Metal Controls Wood:</strong> Metal tools can cut down trees.</p><h3 class='font-bold text-lg mt-4 text-orange-700'>Pathological</h3><p><strong>Metal Overacts on Wood:</strong> Excessive cutting with metal tools can destroy wood.</p><p><strong>Wood Insults Metal:</strong> A large tree cannot be cut by a small piece of metal.</p>` }
                }
            }
        };

        let currentLang = 'ko';

        const infoTitle = document.getElementById('info-title');
        const infoContent = document.getElementById('info-content');

        function setLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            const langData = translations[lang];
            
            infoTitle.textContent = langData.welcome_title;
            infoContent.innerHTML = `<p>${langData.welcome_content}</p>`;

            const url = new URL(window.location);
            url.searchParams.set('lang', lang);
        }

        function toggleLanguage(event) {
            event.preventDefault();
            const newLang = currentLang === 'ko' ? 'en' : 'ko';
            setLanguage(newLang);
        }

        function showInfo(title, content) {
            infoTitle.innerHTML = title;
            infoContent.innerHTML = content;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const svg = document.getElementById('five-elements-svg');
            if (svg) {
                svg.addEventListener('click', (event) => {
                    const targetElement = event.target.closest('.element');
                    const targetArrow = event.target.closest('.relation-arrow');

                    if (targetElement) {
                        const elementKey = targetElement.dataset.element;
                        const data = translations[currentLang].elements[elementKey];
                        if (data) {
                            showInfo(data.title, data.content);
                        }
                        return;
                    }
                    
                    if (targetArrow) {
                        const relationKey = targetArrow.dataset.relation;
                        const data = translations[currentLang].relations[relationKey];
                        if (data) {
                            showInfo(data.title, data.content);
                        }
                    }
                });
            }
            
            const urlParams = new URLSearchParams(window.location.search);
            const langFromURL = urlParams.get('lang');
            const initialLang = (langFromURL === 'en' || langFromURL === 'ko') ? langFromURL : 'ko';
            setLanguage(initialLang);
        });

    </script>
</body>
</html>
