<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>의료 윤리 및 법률 퀴즈</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');

        :root {
            --background-color: #f5f2e9; /* 연한 세피아 */
            --text-color: #3e3e3e; /* 진한 회색 */
            --container-bg: #ffffff;
            --border-color: #dcdcdc;
            --hover-bg: #e9e6e0;
            --correct-accent: #4a90e2; /* 파란색 강조 */
            --correct-bg: #d4edda;
            --correct-border: #c3e6cb;
            --correct-text: #155724;
            --incorrect-bg: #f8d7da;
            --incorrect-border: #f5c6cb;
            --incorrect-text: #721c24;
            --topic-header-bg: #e2e8f0;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* 상단 정렬 */
            min-height: 100vh;
        }

        #quiz-container {
            width: 100%;
            max-width: 800px;
            padding: 20px 0;
        }
        
        h1 {
            text-align: center;
            color: var(--text-color);
            margin-bottom: 40px;
        }

        .topic-group h2 {
            font-size: 1.5rem;
            color: var(--text-color);
            border-bottom: 2px solid var(--correct-accent);
            padding-bottom: 10px;
            margin-top: 50px;
            margin-bottom: 30px;
        }

        .question-card {
            background-color: var(--container-bg);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s ease;
        }

        .question-card:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 20px;
            line-height: 1.6;
            white-space: pre-wrap; /* 질문의 줄바꿈 유지 */
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            background-color: #fafafa;
            border: 1px solid var(--border-color);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
            text-align: left;
            width: 100%;
            font-size: 1rem;
        }

        .options-container:not(.answered) .option:hover {
            background-color: var(--hover-bg);
            border-color: #c0c0c0;
        }
        
        .option.correct {
            background-color: var(--correct-bg);
            border-color: var(--correct-border);
            color: var(--correct-text);
            font-weight: 700;
        }

        .option.incorrect {
            background-color: var(--incorrect-bg);
            border-color: var(--incorrect-border);
            color: var(--incorrect-text);
            opacity: 0.7;
        }

        .option:disabled {
            cursor: not-allowed;
        }
        
        .explanation {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #e8f0fe;
            border-left: 5px solid var(--correct-accent);
            border-radius: 0 8px 8px 0;
            line-height: 1.7;
            font-size: 0.95rem;
            white-space: pre-wrap; /* 해설의 줄바꿈을 유지하기 위해 추가 */
        }
    </style>
</head>
<body>

    <div id="quiz-container">
        <h1>의료 윤리 및 법률 퀴즈</h1>
        <div id="questions-wrapper">
            <!-- 질문 카드가 여기에 동적으로 추가됩니다. -->
        </div>
    </div>

    <script>
        const quizData = {
            "의료 윤리 원칙 (Ethical Principles)": [
                {
                    question: "40세 환자가 시장에 막 출시된 항염증제를 처방받았습니다. 여러 사망 사례가 보고된 후, FDA는 해당 약물의 심혈관계 부작용 가능성에 대해 조사를 시작했습니다. 환자는 새로운 약을 처방받고 첫 번째 약의 사용을 즉시 중단하라는 지시를 받았습니다. 이것은 다음 중 어떤 원칙의 예시입니까?",
                    options: ["사용자 책임 (vicarious liability)", "자율성 존중의 원칙 (Autonomy)", "무해성 원칙 (non-maleficence)", "정의의 원칙 (Justice)", "억제 (deterrence)"],
                    correctAnswer: "무해성 원칙 (non-maleficence)",
                    explanation: "무해성 원칙은 환자에게 해를 끼치지 말아야 한다는 윤리 원칙입니다. 잠재적으로 위험한 약물을 중단시키는 행위는 이 원칙에 따른 것입니다."
                },
                {
                    question: "한 노인이 65세 아내를 응급실로 데려왔습니다. 신체 검사와 진단 검사 결과 말기 위암으로 밝혀졌고 예후가 좋지 않은 것으로 판단되었습니다. 하지만 아내는 '이 소식이 남편의 심장병을 악화시킬 것이라며 남편에게 이 정보를 공유하지 말아 달라고 요청합니다. 남편이 복도에서 당신을 기다리며 아내가 괜찮을지 묻습니다. 법적으로 당신은 어떻게 해야 합니까?",
                    options: ["두 사람이 부부이므로, 법적으로 남편에게 아내의 나쁜 예후를 알릴 수 있다.", "남편에게 예후를 알려줄 수는 없지만, 간호사에게 남편에게 아내의 상태를 알려달라고 요청할 수 있다.", "남편에게 예후를 알려줄 수는 없지만, 부부 간의 솔직한 대화를 장려하기 위해 모든 노력을 다하는 것은 제한되지 않는다.", "병원 안에 있는 동안에는 예후를 알려줄 수 없지만, 퇴근 후 남편에게 전화하여 정보를 알려줄 수 있다."],
                    correctAnswer: "남편에게 예후를 알려줄 수는 없지만, 부부 간의 솔직한 대화를 장려하기 위해 모든 노력을 다하는 것은 제한되지 않는다.",
                    explanation: "HIPAA는 환자의 동의(권리 포기)가 있거나 다른 사람의 건강, 복지 또는 안전에 임박한 위험이 있다는 명백한 증거가 없는 한, 환자의 비밀유지가 반드시 지켜져야 한다고 규정합니다. 📜 이는 환자가 해당 정보 공개에 동의하지 않는 한, 당신이 환자의 정보를 배우자에게 공개할 수 없음을 의미합니다."
                },
                {
                    question: "말기암을 앓는 70세 여성이 흡인성 폐렴이 악화되어 생명 유지 장치에 의존하게 되었습니다. 그녀는 10년 전에 이 병을 진단받았으며, 당신에게 생명 유지 장치를 중단해달라고 요청합니다. 평가 결과, 환자는 의사 결정 능력이 있으며 치료의 성격과 결정의 결과를 이해하고 있음이 밝혀졌습니다. 그녀의 가족들은 병원에 그녀가 지금 이런 결정을 내릴 상태가 아니라고 말하며 이 문제를 논의하기 위해 법정으로 가고 싶어 합니다. 다음으로 가장 적절한 조치는 무엇입니까?",
                    options: ["생명 유지 장치를 계속하고 법정으로 간다.", "의료 대리인을 지정한다.", "영속적 위임장을 지정한다.", "환자 가족이 사전의료의향서(living will)를 작성하게 한다.", "생명 유지 장치를 제거한다."],
                    correctAnswer: "생명 유지 장치를 제거한다.",
                    explanation: "의사 결정 능력이 있는 성인 환자의 자율적인 결정은 가족의 반대보다 우선합니다. 환자가 치료를 거부할 권리는 존중되어야 합니다."
                },
                {
                    question: "19세 남성이 취업 신체검사를 위해 병원을 방문했습니다. 혈액 검사 결과 적혈구 수 1.79, 헤모글로빈 3.4, 헤마토크릿 10.4로 나타났습니다. 당신은 수혈을 권고했지만, 환자는 자신이 여호와의 증인이라는 이유로 거부합니다. 두 번째 방문에서 환자는 대기실에서 의식을 잃었습니다. 윤리적으로 허용되는 조치는 무엇입니까?",
                    options: ["어쨌든 환자에게 수혈을 한다. 그렇지 않으면 확실히 사망할 것이기 때문이다.", "환자에게 수혈은 하지 않되, 그를 안정시키기 위해 다른 모든 생명 구조 조치를 사용한다.", "법무팀에 연락하여 환자를 \"의사결정 능력 없음\"으로 선언하게 한 후, 그를 대신해 의료 결정을 내리고 수혈을 진행한다.", "중환자를 다룰 수 있는 다른 시설로 즉시 환자를 이송한다."],
                    correctAnswer: "환자에게 수혈은 하지 않되, 그를 안정시키기 위해 다른 모든 생명 구조 조치를 사용한다.",
                    explanation: "의사 결정 능력이 있는 성인이 내린 사전 거부는 환자가 의식을 잃은 후에도 존중되어야 합니다. 하지만 수혈을 제외한 다른 모든 의학적 조치는 제공해야 합니다."
                },
                {
                    question: "24세 환자가 복부 자상과 출혈로 응급실에 내원하여 수혈이 필요합니다. 환자는 여호와의 증인이며 수혈을 원하지 않는다고 말합니다. 인턴은 환자가 수혈 없이는 생존하지 못할 것이라고 느껴 어쨌든 수혈을 지시합니다. 이것은 다음 중 어떤 원칙의 예시입니까?",
                    options: ["선행의 원칙 (beneficence)", "무해성 원칙 (non maleficence)", "후견인 제도 (conservatorship)", "온정적간섭주의 (paternalism)", "부당한 영향력 (undue influence)"],
                    correctAnswer: "온정적간섭주의 (paternalism)",
                    explanation: "온정적간섭주의(Paternalism)는 의료진이 환자의 자율적인 의사를 무시하고 \"환자에게 최선\"이라고 생각하는 바를 강행하는 태도를 말합니다."
                },
                {
                    question: "한 남성 환자가 새로 진단된 가족성 선종성 용종증으로 병원에 입원했습니다. 환자의 중년 아들이 병원을 자주 방문하며 환자의 병실에서 자주 보입니다. 환자는 결국 이 병으로 사망합니다. 몇 년 후, 환자의 아들 역시 대장암에 걸립니다. 그는 당신에게 전화하여, 자신이 대장암에 걸릴 위험이 증가했다는 사실을 경고하는 조치를 취하지 않았기 때문에 당신을 상대로 소송을 제기할 것이라고 말합니다. 당신은 그에게 대장암 발병 위험 증가를 경고할 의무가 있었습니까?",
                    options: ["아니요, HIPAA 프라이버시 규칙은 가까운 가족에게도 환자 정보를 공개하는 것을 금지하기 때문입니다.", "아니요, 아들은 당신의 환자였던 적이 없기 때문입니다.", "아니요, 환자가 특별히 가족들에게 대장암 위험 증가를 경고해달라고 요청하지 않은 한 의무가 없습니다.", "예, 아들이 당신을 상대로 소송을 제기할 계획이라고 알리기 위해 전화한 순간부터 의사-환자 관계가 형성되었기 때문입니다.", "예, 의사는 유전적으로 전염될 수 있는 질환으로 인한 피할 수 있는 위험에 처한 것으로 알려진 사람들에게 경고하기 위한 합리적인 조치를 취할 의무가 있기 때문입니다."],
                    correctAnswer: "예, 의사는 유전적으로 전염될 수 있는 질환으로 인한 피할 수 있는 위험에 처한 것으로 알려진 사람들에게 경고하기 위한 합리적인 조치를 취할 의무가 있기 때문입니다.",
                    explanation: "이는 복잡한 윤리적 문제입니다. 일부 판례(예: Tarasoff 원칙)는 의사가 환자의 비밀유지 의무를 넘어, 유전 질환으로 인해 심각한 위험에 처한 제3자(가족)에게 경고할 의무가 있다고 판단했습니다."
                }
            ],
            "동의 및 환자 권리 (Consent & Patient Rights)": [
                {
                    question: "당신은 뇌수막염이 의심되는 12세 여아를 치료하고 있으며, 진단을 확정하기 위해 척수 천자를 지시합니다. 부모는 시술에 동의하지만, 시술이 끝날 때까지 딸에게 아무 말도 하지 말아 달라고 요청합니다. 또한, 진단이 맞다면 환자에게는 그냥 심한 감기에 걸렸다고 말해달라고 덧붙입니다. 환자의 최선의 이익을 고려할 때, 가장 먼저 취해야 할 최선의 조치는 무엇입니까?",
                    options: ["부모의 의견에 동의하고 척수 천자 시술 전에 환자에게 아무 말도 하지 않거나 진단 관련 정보를 밝히지 않는다.", "사회 복지 서비스에 연락하여 환자를 위한 결정을 내릴 법원 지정 대리인을 요청하는 것에 대해 논의한다.", "부모에게 동의한 후, 환자와 단둘이 있을 때 척수 천자와 당신이 의심하는 병에 대해 이야기한다.", "환자가 시술의 내용과 필요성을 아는 것이 의학적 견해상 옳다고 생각한다는 점을 부모와 논의한다."],
                    correctAnswer: "환자가 시술의 내용과 필요성을 아는 것이 의학적 견해상 옳다고 생각한다는 점을 부모와 논의한다.",
                    explanation: "12세 아동은 시술에 대해 이해하고 동의(assent)할 권리가 있습니다. 부모와 먼저 소통하여 아동에게 정보를 제공하는 것의 중요성을 설명하는 것이 가장 적절한 첫 단계입니다.\n\n비록 부모가 이 어린 환자의 법적 의사 결정권자이지만, 의료인의 주된 관심사는 환자의 복지와 권리여야 합니다. 환자가 치료를 잘 따르는 것은 자신이 왜 아픈지 아는 것에 영향을 받으므로, 부모가 환자에게 치료 이유를 알리도록 권장해야 합니다.\n\n명백한 학대의 징후가 없는 한 부모의 의사 결정권을 무시하기는 어렵지만, 만약 부모의 결정이 딸의 최선의 이익에 부합하지 않는다고 판단되면, 대화를 통해 전문가적 의견을 표현하는 것이 최선일 것입니다."
                },
                {
                    question: "미성년자가 병원에 와서 치료를 요청합니다. 다음 중 부모의 동의 없이 미성년자를 치료하는 것이 허용되는 상황은 어느 것입니까?",
                    options: ["독감 예방주사를 원하는 15세 여성", "오피오이드 남용 치료를 원하는 13세 여성", "우울증치료가 필요한 14세 남성", "체육시간에 찰과상을 입은 13세 남성", "불임 시술을 요청하는 14세 여성"],
                    correctAnswer: "오피오이드 남용 치료를 원하는 13세 여성",
                    explanation: "일반적인 기준(General Rule)은 만 18세 이상이 되면 성인으로 간주되어 스스로 의료 행위에 대한 동의(consent)를 할 수 있다는 것입니다. 만 18세 미만은 미성년자로, 일반적으로 부모나 법적 보호자의 동의가 필요합니다. (일부 예외적인 주: 앨라배마 주와 네브래스카 주는 만 19세, 미시시피 주는 만 21세를 성인으로 봅니다.)\n\n하지만 중요한 예외(Exceptions)가 있습니다. 미성년자라 할지라도 특정 상황에서는 부모의 동의 없이 스스로 치료에 동의할 수 있으며, 이를 '해방된 미성년자(Emancipated Minor)' 또는 '성숙한 미성년자 원칙(Mature Minor Doctrine)'이라고 부르며, 다음과 같은 경우가 해당됩니다:\n• 임신한 경우 🤰\n• 결혼한 경우\n• 형사상 성폭행 또는 학대의 피해자인 경우\n• 군대에 입대한 경우\n• 부모/보호자와 떨어져 살면서 경제적으로 자립한 경우\n\n또한, 환자가 만 12세 이상이 되면, 미성년자는 자신의 성병 치료나 알코올 또는 약물 남용에 대한 치료에 동의할 수 있습니다."
                },
                {
                    question: "15세 기혼 여성이 부모 없이 내원하여 3일간의 기침을 호소합니다. 환자는 부모와 함께 살고, 음주나 약물 사용은 부인하며, 3개월 된 아들이 있고 남편과 함께 부양하고 있습니다. 이 환자는 부모의 동의가 필요할 까요?",
                    options: ["약물이나 알코올 관련이 아니므로 치료해서는 안 된다.", "성병 관련이 아니므로 치료해서는 안 된다.", "이 증상은 응급 상황이 아니므로 치료해야 한다.", "결혼했으므로 부모의 동의없이 치료할 수 있다."],
                    correctAnswer: "결혼했으므로 부모의 동의없이 치료할 수 있다.",
                    explanation: "결혼한 미성년자는 법적으로 '해방된 미성년자(emancipated minor)'로 간주되어 자신의 의료 결정에 대해 스스로 동의할 수 있습니다."
                },
                {
                    question: "의식을 잃은 환자가 자동차 사고 후 응급실로 이송되었습니다. 환자에게는 신분증이 없으며, 의사는 환자가 미성년자인지 성인인지 판단할 수 없습니다. 의사는 즉각적인 치료가 필요하다고 판단합니다. 다음 중 옳은 것은 무엇입니까?",
                    options: ["동의는 의사의 판단에 따라 묵시적으로 인정되지 않는다.", "이 환자에 대해서는 동의가 묵시적으로 인정된다.", "동의는 환자가 성인인 경우에만 묵시적으로 인정된다.", "동의는 환자가 미성년자인 경우에만 묵시적으로 인정된다.", "성인이나 미성년자 모두에게 동의가 묵시적으로 인정되지 않는다."],
                    correctAnswer: "이 환자에 대해서는 동의가 묵시적으로 인정된다.",
                    explanation: "생명이 위급한 응급 상황에서는 환자가 의사소통을 할 수 없을 때, 합리적인 사람이 치료를 원할 것이라는 가정 하에 동의가 묵시적으로 인정됩니다. 이는 환자가 성인이든 미성년자이든 적용됩니다."
                },
                {
                    question: "한 의사가 영어를 못하는 난민들이 탄 배에서 입국에 필요한 예방접종을 시행하기 위해 고용되었습니다. 난민들이 줄을 서고 의사는 각자에게 예방접종을 합니다. 난민 중 한 명은 종교적인 이유로 예방접종을 원하지 않았습니다. 그녀는 의사에게 다가갔을 때 주사를 맞으려는 듯 팔을 내밀었습니다. 아무런 말도 오가지 않았고 의사는 예방접종을 했습니다. 배에서 내린 후, 그녀는 의사를 고소하기로 결정합니다. 의사는",
                    options: ["동의가 있었으므로 책임이 없다.", "입국에 필요한 주사였으므로 책임이 없다.", "그녀가 동의하지 않았으므로 책임이 있다.", "그녀의 종교적 신념을 과실로 위반했으므로 책임이 있다."],
                    correctAnswer: "동의가 있었으므로 책임이 없다.",
                    explanation: "말을 하지 않았더라도 팔을 내미는 행위는 상황에 따라 시술에 대한 묵시적 동의(implied consent)로 간주될 수 있습니다.\n사망이나 영구적인 손상을 막기 위해 어떠한 조치가 필요한 경우, 묵시적 동의(Implied consent)가 있는 것으로 추정됩니다. 의식이 없거나 의사결정 능력이 없는 환자 또한 묵시적 동의에 근거하여 치료받을 수 있습니다. 예방접종 줄에 서서 기다리는 것, 팔을 내미는 것과 같은 자발적인 행위 역시 묵시적 동의로 간주됩니다."
                },
                {
                    question: "당신은 35세 환자의 발가락에 있는 사마귀를 액체 질소로 제거하기 위해 사전 동의를 받고 있습니다. 다음 중 사전 동의의 모든 요소를 포함하는 것은 무엇입니까?",
                    options: ["진단, 액체 질소의 위험/이익 및 대체 치료법", "진단, 액체 질소의 위험/이익", "액체 질소의 위험/이익 및 대체 치료법", "진단, 차트 사본, 액체 질소의 위험/이익 및 대체 치료법", "진단, 사전 동의서 사본, 액체 질소의 위험/이익 및 대체 치료법"],
                    correctAnswer: "진단, 액체 질소의 위험/이익 및 대체 치료법",
                    explanation: "완전한 사전 동의는 일반적으로 다음 요소를 포함합니다: 진단(상태), 제안된 치료의 성격, 치료의 위험과 이익, 대체 치료법(치료하지 않는 것 포함), 그리고 질문할 기회."
                }
            ],
            "법적 책임 및 의료 과실 (Legal Liability & Malpractice)": [
                {
                    question: "29세 여성이 허리 디스크 치료를 위해 한의원을 방문하고 있습니다. 환자는 매주 침치료와 수기요법을 받으러 옵니다. 의사가 환자에게 알리지 않고 은퇴하며 병원 문을 닫았습니다. 계약 위반과 불법 행위를 피하기 위해 다음 중 어떤 조치를 취해야 합니까?",
                    options: ["의사는 은퇴하기 최소 30일 전에 환자에게 서비스 종료를 알리는 서신을 보내야 한다.", "의사는 환자에게 전화해서 은퇴한다고 말해야 한다.", "의사는 환자에게 내용증명 우편으로 은퇴 사실과 진단명을 포함한 서신을 보내야 한다.", "의사는 환자에게 은퇴 사실을 알리는 서신을 보내고, 해당 지역 의사 목록을 제공해야 한다."],
                    correctAnswer: "의사는 은퇴하기 최소 30일 전에 환자에게 서비스 종료를 알리는 서신을 보내야 한다.",
                    explanation: "환자 유기(patient abandonment)를 피하기 위해서는, 관계를 종료하기 전에 환자에게 합리적인 기간(보통 30일)을 두고 서면으로 통지해야 합니다. D도 좋은 방법이지만, 법적 책임을 피하기 위한 최소한의 핵심 요건은 A에 명시된 사전 통지입니다."
                },
                {
                    question: "평소 항응고제를 복용하는 환자의 관절염에 한의사는 건식 부항과 수기요법을 처방했습니다. 한의사는 자신의 병원에서 일하는 간호사에게 부항 지시하고 방을 나갔습니다. 간호사가 실수로 습식부항을 시행하여 출혈이 일어났는데, 출혈이 멈추지 않아 응급실에 가게 되었습니다. 다음 중 옳은 설명은 무엇입니까?",
                    options: ["의사는 간호사에게 건식부항을 지시했으므로 책임이 없다.", "의사는 당시에 방에 없었고 이를 예견할 수 없었으므로 책임이 없다.", "의사는 과실추정의 원칙(Res Ipsa Loquitur)에 따라 책임이 있다.", "의사는 사용자 책임 원칙(Respondeat Superior)에 따라 책임이 있다.", "의사는 시행한 것이 없으므로 책임이 없다."],
                    correctAnswer: "의사는 사용자 책임 원칙(Respondeat Superior)에 따라 책임이 있다.",
                    explanation: "'사용자 책임 원칙'은 고용주(의사)가 고용인(간호사)이 업무 범위 내에서 행한 과실에 대해 법적 책임을 진다는 원칙입니다."
                },
                {
                    question: "45세 남성이 무릎 관절경 수술(arthroscopic knee surgery)을 받기 위해 내원했습니다. 환자는 수술 동의서에 명시된 대로 찢어진 반월상 연골(meniscus)을 다듬는(trimming) 시술에만 동의했습니다. 하지만 수술 중, 담당 의사는 환자의 전방 십자인대(ACL)가 부분적으로 파열된 것을 발견하고, 환자의 사전 동의 없이 해당 인대를 재건하는(reconstruct) 추가 시술을 함께 진행했습니다. 이 인대 파열은 당장 환자의 생명을 위협하는 응급 상황은 아니었습니다. 환자는 마취에서 깨어난 후 이 사실을 알게 되었습니다.\n\n이 경우, 의사는 다음 중 어떤 법적 책임에 가장 직접적으로 직면하게 될까요?",
                    options: ["의료 과실 (Medical Negligence)", "폭행 (Battery)", "제조물 책임 (Product Liability)", "사생활 침해 (Invasion of Privacy)", "명예훼손 (Defamation)"],
                    correctAnswer: "폭행 (Battery)",
                    explanation: "미국 법에서 폭행(Battery)은 단순히 물리적 폭력을 넘어, '동의 없이 타인의 신체에 의도적으로 접촉하는 행위'를 포괄하는 개념입니다. 의료 행위의 맥락에서 이는 매우 중요한 의미를 갖습니다.\n\n환자가 특정 수술이나 시술에 동의했다다는 것은, 명확하게 합의된 범위 내의 의료 행위에만 신체 접촉을 허락했다는 뜻입니다. 위 시나리오에서 의사는 환자가 동의하지 않은 별개의 시술(전방 십자인대 재건술)을 임의로 시행했습니다. 비록 의학적으로 필요하다고 판단했고 좋은 의도를 가졌을지라도, 환자의 명시적인 동의 없이 신체를 침범한 행위는 법적으로 '폭행'에 해당합니다.\n\n물론, 수술 중 환자의 생명이 위급한 예측 불가능한 응급 상황이 발생했다면 '묵시적 동의(implied consent)' 이론에 따라 면책될 수 있습니다. 하지만 이 사례처럼 당장 처치하지 않아도 생명에 지장이 없는 경우에는, 반드시 환자(또는 법적 대리인)의 추가 동의를 얻는 절차를 거쳐야 합니다. 이를 위반한 행위는 환자의 자기결정권(right to self-determination)을 침해한 것으로 간주되어 폭행죄의 법적 책임을 지게 됩니다."
                },
                {
                    question: "50대 여성이 만성적인 어깨 통증과 오십견 증상 완화를 위해 한의원을 방문했습니다. 한의사는 환자의 증상을 개선하기 위해 어깨 주변 혈자리에 침 치료를 시행하기로 했습니다. 그러나 시술 후 몇 시간 뒤, 환자는 극심한 가슴 통증과 호흡 곤란을 느끼기 시작했고, 결국 대학병원 응급실로 이송되었습니다. 응급실 검사 결과, 침이 너무 깊게 자입되어 흉막을 뚫고 폐를 손상시키는 '기흉(pneumothorax)'이 발생한 것으로 진단받았습니다. 이로 인해 환자는 흉관 삽입술을 받고 며칠간 입원 치료를 해야 했습니다.\n\n이 환자가 해당 한의사를 상대로 성공적인 의료 과실 소송을 제기하기 위해, 법정에서 반드시 입증해야 할 4가지 핵심 요소는 다음 중 무엇입니까?",
                    options: ["의무(Duty), 의무 위반(Breach), 손해(Damages), 인과관계(Causation)", "의무(Duty), 의무 위반(Breach), 폭행(Battery), 제조물 책임(Product Liability)", "계약(Contract), 사기(Fraud), 손해(Damages), 사용자 책임 원칙(Respondeat Superior)", "의무(Duty), 설명의무(Informed Consent), 손해(Damages), 과실추정의 원칙(Res Ipsa Loquitur)"],
                    correctAnswer: "의무(Duty), 의무 위반(Breach), 손해(Damages), 인과관계(Causation)",
                    explanation: "의료 과실 소송이 성립하기 위해서는 4가지 요소(의무, 의무 위반, 손해, 인과관계)가 모두 입증되어야 합니다.\n\n의무 (Duty) 📜: 한의사는 환자를 진료하는 순간부터 자신의 전문 지식과 기술을 바탕으로 안전하게 치료해야 할 의무를 집니다. 이 의무에는 환자에게 위험을 초래할 수 있는 시술을 할 때, 해부학적 구조를 정확히 이해하고 표준적인 시술 깊이와 절차(standard of care)를 준수해야 할 책임이 포함됩니다. 이 사례에서 한의사는 어깨 주변에 침을 놓을 때 폐와 같은 주요 장기가 손상되지 않도록 세심한 주의를 기울여야 할 의무가 있습니다.\n\n의무 위반 (Breach of Duty) ❗: 한의사가 위에서 언급한 '표준적 주의 의무'를 다하지 못했을 때 발생합니다. 즉, 합리적이고 숙련된 다른 한의사라면 하지 않았을 위험한 행위를 한 것입니다. 이 사례에서 환자 측은 \"어깨 주변 특정 혈자리에 침을 놓을 때, 훈련받은 한의사라면 폐를 찌를 위험이 있는 깊이까지 자입하지 않았을 것\"이라는 점을 주장하며, 기흉을 유발한 행위가 명백한 의무 위반임을 입증해야 합니다.\n\n손해 (Damages) 💸: 한의사의 의무 위반으로 인해 환자에게 발생한 구체적인 피해를 의미합니다. 신체적, 정신적, 경제적 손실이 모두 해당됩니다. 이 사례에서는 기흉으로 인한 극심한 고통, 흉관 삽입술과 입원 치료에 들어간 병원비, 치료 기간 동안 일을 하지 못해 발생한 소득 손실, 그리고 이로 인한 정신적 충격 등이 모두 법적으로 인정되는 손해입니다.\n\n인과관계 (Causation) 🔗: 한의사의 의무 위반(과도하게 깊은 침 시술)과 환자의 손해(기흉 발생) 사이에 직접적인 원인-결과 관계가 있음을 증명해야 합니다. 즉, \"만약 한의사가 안전한 깊이로 침을 놓았다면, 환자에게 기흉은 발생하지 않았을 것이고, 그에 따른 치료와 고통도 없었을 것\"이라는 점을 의학적 증거를 통해 명확히 밝혀야 합니다. 이 경우, 응급실의 진단 기록이 결정적인 증거가 될 수 있습니다."
                },
                {
                    question: "한 환자가 흉통을 호소하며 응급실에 들어옵니다. 접수 과정에서 응급실 직원이 환자의 보험사에 전화했으나 응급 방문에 대한 보험 적용이 거부되었습니다. 환자는 방문 비용을 본인이 부담해야 한다는 말을 들었습니다. 당신이 환자를 진찰하러 들어가자, 그는 이제 괜찮아진 것 같다며 퇴원해서 오늘 늦게 자신의 주치의를 찾아가겠다고 말합니다. 법적으로 당신은 무엇을 해야 할 의무가 있습니까?",
                    options: ["환자가 자신의 건강 상태에 대해 자발적으로 결정했으므로, 주치의를 만나러 자유롭게 떠날 수 있다.", "환자가 오늘 늦게 의료 전문가에게 진찰받을 것이라고 확인했으므로, 자유롭게 떠날 수 있다.", "응급실 방문이 보장되지 않는다는 주장을 확인하기 위해 주치의로부터 보험 서류를 받아야 한다.", "환자를 이송하거나 퇴원시키기 전에 지체 없이 의료 선별 검사와 치료를 제공해야 한다."],
                    correctAnswer: "환자를 이송하거나 퇴원시키기 전에 지체 없이 의료 선별 검사와 치료를 제공해야 한다.",
                    explanation: "EMTALA는 Emergency Medical Treatment and Labor Act의 약자로, 한국어로는 '응급의료 및 분만법'으로 번역됩니다.\n\n이 법은 1986년에 제정된 미국의 연방법으로, 가장 중요한 목적은 병원이 지불 능력이나 보험 유무를 이유로 응급 환자를 거부하거나 다른 병원으로 부당하게 보내는 행위(이를 '페이션트 덤핑'이라고 합니다)를 막는 것입니다.\n\n메디케어(Medicare) 프로그램에 참여하는 거의 모든 병원은 이 법을 따라야 하며, 핵심 내용은 다음과 같습니다.\n\n1. 의료 검진 (Medical Screening Examination) 🩺\n응급실을 방문한 모든 사람에게는 반드시 기본적인 의료 검진을 제공하여 응급 상황 여부를 판단해야 합니다. 이 과정에서 돈이나 보험에 대해 먼저 물어봐서는 안 됩니다.\n\n2. 안정화 (Stabilization) 🩹\n검진 결과 응급 상황으로 판단되면, 병원은 환자의 상태가 안정될 때까지 치료해야 합니다. 이는 환자를 이송해도 상태가 나빠지지 않을 정도까지 치료하는 것을 의미하며, 분만 중인 산모도 여기에 포함됩니다.\n\n3. 적절한 이송 (Appropriate Transfer) 🚑\n만약 해당 병원에서 환자를 치료할 능력이 부족하다면, 환자를 받을 수 있는 다른 병원으로 안전하게 이송할 책임이 있습니다. 이송은 환자의 동의를 얻고, 받을 병원과 협의가 완료된 후에 이루어져야 합니다.\n\nEMTALA는 응급 상황에 처한 사람이라면 누구나 최소한의 기본적인 의료 서비스를 받을 수 있도록 보장하는 미국의 중요한 사회 안전망입니다."
                },
                {
                    question: "24세 환자가 풀 컨택트 축구 경기 중 머리 부상을 당한 후 친구들에 의해 응급실로 이송되었습니다. 환자는 친구들과 큰 소리로 논의하고 있는 것으로 보이며 응급실로 이송된 것에 대해 화가 난 것 같습니다. 친구들은 환자가 부상 후 의식을 잃었고 응급실에서 완전히 의식을 되찾았다고 말합니다. 환자는 사람, 장소, 시간에 대해 명료하고 지향적입니다. 환자가 말합니다: \"보험이 없어서 여기 있을 수 없어요. 경기 중에 머리를 부딪혔고 기절했지만 약간의 어지러움과 두통 외에는 괜찮습니다. 치료를 원하지 않습니다. 집에 갈 거예요, 여기 붙잡아둘 수 없어요!\" 법적으로 어떤 의무가 있습니까?",
                    options: ["이 상황에서 환자를 퇴원시키는 것은 불법이므로 즉시 법 집행 기관의 도움을 받아 환자를 치료를 위해 억류해야 함", "환자가 치료를 거부했으므로 즉시 퇴원시켜야 함", "진찰과 치료 제공을 위한 합리적인 노력을 한 후, 제공되는 진찰과 치료의 이점과 환자의 추가 치료 거부와 관련된 위험을 설명하고, 거부를 서면으로 작성하도록 하며, 기록에 거부된 진찰 및/또는 치료에 대한 설명이 포함되도록 한 후 환자를 퇴원시킬 수 있음", "환자가 자발적으로 응급실에 온 것이 아니라 친구들에 의해 왔기 때문에 의무가 없음"],
                    correctAnswer: "진찰과 치료 제공을 위한 합리적인 노력을 한 후, 제공되는 진찰과 치료의 이점과 환자의 추가 치료 거부와 관련된 위험을 설명하고, 거부를 서면으로 작성하도록 하며, 기록에 거부된 진찰 및/또는 치료에 대한 설명이 포함되도록 한 후 환자를 퇴원시킬 수 있음",
                    explanation: "EMTALA(응급의료 및 분만법)에 따라 의사 결정 능력이 있는 환자가 치료를 거부하더라도, 의료진은 치료의 이점과 거부의 위험을 충분히 설명하고, 그 사실을 문서로 남겨야 할 의무가 있습니다."
                },
                {
                    question: "두 환자가 뉴저지 병원의 면회실에서 기다리며 대화하고 있습니다. 한 환자가 원래 중국 출신이라고 말합니다. 다른 환자는 의사들이 중국 출신 환자가 새로운 변종 코로나 바이러스감염으로 병원에 있다고 말하는 것을 들었다고 말합니다. 환자는 자신이 치료받고 있는 것이 바로 그 병이라는 것을 듣고 충격을 받으며 분노를 표현합니다. 다음 중 올바른 것은?",
                    options: ["의사는 건강보험 이동성 및 책임에 관한 법률(HIPAA)에 근거하여 책임을 질 수 있음", "위반이 없었음", "의사는 의료 과실에 근거하여 책임을 질 수 있음", "의사는 엄격 책임에 근거하여 책임을 질 수 있음"],
                    correctAnswer: "의사는 건강보험 이동성 및 책임에 관한 법률(HIPAA)에 근거하여 책임을 질 수 있음",
                    explanation: "HIPAA의 핵심은 단순히 18개의 개인 식별 정보 항목을 피하는 것이 아닙니다. 더 중요한 원칙은 \"어떤 정보의 조합으로 특정 개인을 합리적으로 식별할 수 있는가?\"입니다.\n\n이 사례에서는 '병원 위치', '환자의 국적(중국)', '질병(새로운 변종 바이러스)'이라는 3가지 정보가 합쳐져 대기실에 있던 다른 환자가 특정 개인을 식별하게 만들었습니다. 비록 이름이나 주소 같은 직접적인 정보는 아니었지만, 결과적으로 환자의 보호 대상 건강 정보(Protected Health Information, PHI)가 유출된 것이므로 HIPAA 위반에 해당할 수 있습니다."
                },
                {
                    question: "습관적으로 진료비 지불이 늦는 환자가 이전 의료 서비스에 대해 상당한 금액을 당신에게 빚지고 있습니다. 환자는 과거에 미납 잔액에 대한 통지를 받았습니다. 오늘 환자가 오른손에 봉와직염으로 보이는 증상으로 걸어 들어옵니다. 당신은 미납 잔액 때문에 그를 치료하지 않겠다고 환자에게 알립니다. 환자는 떠났고, 그날 늦게 다른 의사에게 진찰을 받았는데, 그 의사는 환자의 상태가 위독하다고 판단합니다. 환자의 손은 즉시 수술을 받았지만 손가락 하나를 절단해야 했습니다. 이 경우 당신에게 법적 책임이 있을 가능성이 있습니까?",
                    options: ["예, 일단 의사-환자 관계가 확립되면, 의사는 환자를 치료할 지속적이고 끝없는 의무가 있다.", "예, 의사는 철회 의사에 대한 합리적인 통지를 제공하지 않는 한 환자를 치료할 지속적인 의무가 있다.", "아니요, 환자가 과거 의료 서비스에 대해 상당한 금액을 빚진 경우 의사는 서비스를 계속 제공할 의무가 없다.", "아니요, 의사가 환자의 수술 전에 서비스 철회 의사를 환자에게 통지했기 때문이다.", "아니요, 수술이 의사가 서비스를 제공하는 병원에서 수행되지 않은 한 책임이 없다."],
                    correctAnswer: "예, 의사는 철회 의사에 대한 합리적인 통지를 제공하지 않는 한 환자를 치료할 지속적인 의무가 있다.",
                    explanation: "일단 의사-환자 관계가 형성되면, 의사는 환자를 일방적으로 유기(abandon)할 수 없습니다. 진료비 미납을 이유로 관계를 종료하려면, 환자가 다른 치료를 받을 수 있도록 충분한 시간을 두고 적절한 통지를 해야 합니다. 응급 치료가 필요한 환자를 거부하는 것은 유기에 해당합니다."
                },
                {
                    question: "한 환자가 급성 복통으로 병원에 내원했습니다. 과거 수술 이력으로는 12주 전 다른 병원에서 받은 담낭 절제술이 중요합니다. 오늘 입원시킨 외과의는 복막염을 의심하고 탐색적 개복술을 시행합니다. 외과의는 담낭 절제술을 시행한 병원의 이름이 적힌 낡은 수술 칼을 발견합니다. 환자는 마취에서 깨어난 후 이 사실을 듣게 됩니다. 환자의 변호사는 담낭 절제술을 시행한 병원을 상대로 과실 소송을 제기합니다. 이 소송은",
                    options: ["경솔하다는 이유로 기각되어야 한다.", "병원에 대한 소송은 기각되고 그녀의 담낭을 수술한 외과의를 상대로 제기되어야 한다.", "과실추정의 원칙(res ipsa loquitur)에 근거하여 성공할 수 있다.", "병원이 과실이 없었음을 증명해야 한다.", "환자가 자신의 주장을 뒷받침하는 전문가 증언을 제시해야 한다."],
                    correctAnswer: "과실추정의 원칙(res ipsa loquitur)에 근거하여 성공할 수 있다.",
                    explanation: "'과실추정의 원칙(res ipsa loquitur)'은 \"그 사실 자체가 말해준다\"는 뜻으로, 사고가 피고의 통제 하에 있었고 일반적으로 과실 없이는 발생하지 않는 종류의 것일 때 적용됩니다. 수술 도구를 환자 몸 안에 남겨두는 것은 이 원칙이 적용되는 전형적인 사례입니다."
                }
            ],
            "학대 및 신고 의무 (Abuse & Reporting)": [
                {
                    question: "간병인과 함께 사는 75세 노인이 통증에 대해 불평을 멈추지 않으면 신체적 학대를 당할 것이라는 말을 계속 듣고 있습니다. 간병인은 의사가 처방한 진통제를 환자에게 주고 있습니다. 이것은 다음 중 어떤 유형의 학대에 해당합니까?",
                    options: ["소극적 방임 (passive neglect)", "적극적 방임 (active neglect)", "심리적 학대 (psychological abuse)", "신체적 학대 (physical abuse)"],
                    correctAnswer: "심리적 학대 (psychological abuse)",
                    explanation: "신체적 위해를 가하겠다는 위협은 심리적 또는 정서적 학대에 해당합니다.\n\n참고로, 소극적 방임(passive neglect)은 의도치 않은 것으로, 과도한 업무나 적절한 간병에 대한 정보 부족으로 인해 발생할 수 있으며, 적극적 방임(active neglect)은 간병인이 의도적으로 약물/음식을 주지 않는 등 자신의 의무를 다하지 않는 경우입니다."
                },
                {
                    question: "8세 아동이 허리 통증(요통)을 호소하며 어머니와 함께 한의원에 내원했습니다. 어머니는 아이가 며칠 전 태권도 학원에서 발차기 연습을 하다가 넘어져서 다친 것 같다고 말했습니다. 한의사가 아이의 등을 진찰하고 부항 치료를 위해 옷을 올리자, 등 전체에 걸쳐 치유 시기가 각각 다른 오래된 멍과 새로운 멍 자국들이 여러 개 발견되었습니다. 이는 어머니의 설명만으로는 이해하기 힘든 패턴이었습니다. 한의사(의료 전문인)가 법적 의무에 따라 가장 먼저 연락해야 할 기관은 다음 중 어디일까요?",
                    options: ["아동 학대에 관한 미국 전문가 협회 (The American Professional Society on the Abuse of Children)", "국가인권위원회 (National Human Rights Commission)", "아동 보호 전문기관 또는 수사기관 (Child Protective Services or Law Enforcement)", "지역 아동 발달 센터 (Community Child Development Center)"],
                    correctAnswer: "아동 보호 전문기관 또는 수사기관 (Child Protective Services or Law Enforcement)",
                    explanation: "서로 다른 치유 단계에 있는 다발성 멍이나 골절은 아동 학대의 강력한 징후입니다. 의료 전문가는 이러한 의심 사례를 법 집행 기관이나 아동 보호 서비스(CPS)에 신고할 법적 의무가 있습니다.\n\n- 아동 보호 서비스 (Child Protective Services, CPS): 아동의 안전과 복지를 최우선으로 하는 사회 복지 기관입니다. 학대 신고가 접수되면 조사를 통해 아동의 안전을 확보하고, 필요한 경우 가족 상담, 교육 프로그램 제공 또는 아동을 안전한 환경으로 분리하는 역할을 합니다. 이들의 조사는 형사 처벌보다는 아동 보호에 초점을 맞춥니다.\n\n- 법 집행 기관 (Law Enforcement, 경찰): 범죄 행위를 수사하고 가해자를 기소하는 것을 목적으로 하는 사법 기관입니다. 아동 학대를 범죄로 보고 증거를 수집하여 가해자를 체포하고 법적 처벌을 받게 하는 역할을 합니다."
                },
                {
                    question: "85세 환자가 자신의 동의 없이 요양 시설로 이송 및 입원되었습니다. 그의 자녀들은 그가 더 이상 혼자 사는 것이 안전하지 않다고 생각하며, 의료 및 생활비를 지불하기 위해 그의 집을 팔아야 한다고 설명합니다. 정신적으로 온전하다고 느끼는 환자를 위해, 적절한 조치는 무엇이겠습니까?",
                    options: ["성인 보호 서비스(Adult Protective Services)에 연락하여 이 사례를 노인 학대로 신고한다.", "노인 권리 전문 변호사에게 연락하여 자녀들을 상대로 소송을 제기할 수 있는지 문의한다.", "법 집행 기관에 연락하여 이 사례를 노인 학대로 신고한다.", "환자의 의사로서, 가족에게 그가 신체적, 정신적으로 재가 건강 관리 및 메디케어(Medicare)로 일부 보장되는 생활 보조 옵션을 통해 혼자 살 수 있다고 생각함을 설명한다."],
                    correctAnswer: "성인 보호 서비스(Adult Protective Services)에 연락하여 이 사례를 노인 학대로 신고한다.",
                    explanation: "의사 결정 능력이 있는 성인을 그의 의사에 반하여 시설에 입원시키고 재산을 처분하려는 행위는 재정적 착취 및 자율권 침해를 포함하는 노인 학대에 해당할 수 있습니다. 이를 성인 보호 서비스(APS)에 신고하는 것이 가장 적절한 조치입니다."
                },
                {
                    question: "88세의 한 남성이 만성적인 오른쪽 어깨 통증으로 아들과 함께 침술 클리닉을 찾았습니다. 문진 중 환자는 진행성 치매 증상을 보였고, 동행한 아들은 알코올 중독의 병력이 있는 것으로 보입니다. 신체 검사 결과, 이 노인은 지남력 부족, 위생 불량, 탈수 의심, 여러 치유 단계의 멍, 부적절하게 치유된 오래된 골절 흔적이 발견되었습니다. 이 상황에서 침술사로서 가장 적절한 조치는 무엇입니까?",
                    options: ["골다공증을 의심하고 뼈 건강을 위한 한약을 처방한다.", "지역 경찰서에 전화한다.", "환자를 성인 보호 서비스(Adult Protective Services)에 신고한다.", "아들에게 환자의 위생과 영양 상태 개선에 대해 조언한다.", "환자의 통증 완화 치료에만 집중하고 다른 문제에는 관여하지 않는다."],
                    correctAnswer: "환자를 성인 보호 서비스(Adult Protective Services)에 신고한다.",
                    explanation: "불량한 위생 상태, 탈수, 여러 시기에 생긴 것으로 보이는 멍, 제대로 치료되지 않은 오래된 골절, 그리고 처방약 복용 여부가 불분명한 점 등은 노인 학대 및 방임의 강력한 징후입니다. 환자 본인이 부인하더라도, 침술사를 포함한 의료 전문가는 의심되는 사례를 성인 보호 서비스에 신고해야 할 법적, 윤리적 의무가 있습니다. 이는 환자의 안전과 복지를 보장하기 위한 가장 중요하고 우선적인 조치입니다."
                },
                {
                    question: "75세 남성 환자가 함께 사는 딸과 함께 정기적인 진맥을 위해 한의원에 내원했습니다. 한의사가 환자의 기력에 대해 묻자, 환자가 입을 열려는 순간 딸이 말을 가로채며 \"아주 좋으세요\"라고 대답합니다. 한의사가 잠시 자리를 비우는 동안, 환자와 딸 사이에 어색하고 무거운 침묵이 흐르는 것을 목격했습니다. 이러한 정황을 바탕으로 한의사로서 가장 먼저 취해야 할 조치는 무엇입니까?",
                    options: ["상황을 무시하고 예정된 진맥과 침 치료를 계속한다.", "딸에게 환자와 단둘이 이야기할 필요가 있다고 설명하고, 잠시 밖에서 기다려 달라고 정중히 요청한다. 그 시간 동안 환자에게 다시 한번 현재의 심신 상태에 대해 묻는다.", "사회 복지사에게 연락하여 가정 내 상황에 대한 상담을 주선한다.", "환자의 건강 상태에 대한 더 자세한 정보를 얻기 위해 딸과 따로 면담한다.", "환자의 상태에 대해 솔직한 이야기를 듣지 못하고 있다는 의심을 환자와 딸에게 직접적으로 제기하며 대면한다."],
                    correctAnswer: "딸에게 환자와 단둘이 이야기할 필요가 있다고 설명하고, 잠시 밖에서 기다려 달라고 정중히 요청한다. 그 시간 동안 환자에게 다시 한번 현재의 심신 상태에 대해 묻는다.",
                    explanation: "가장 우선시되어야 할 조치는, 보호자를 잠시 분리하여 환자가 심리적으로 안정된 상태에서 자신의 몸 상태와 감정에 대해 솔직하게 이야기할 수 있는 환경을 만드는 것입니다. 이를 통해 한의사는 환자의 상태를 총체적으로 파악하고 가장 적절한 치료 계획을 세울 수 있습니다."
                }
            ],
            "의료 시스템 (Healthcare Systems)": [
                {
                    question: "한 그룹의 의사들이 HMO(건강 유지 기구)와 계약을 맺고, HMO는 매달 회원 환자 한 명당 고정된 금액을 의사들에게 지불합니다. 이 지불 계획은 무엇이라고 합니까?",
                    options: ["인두제 (capitation)", "행위별 수가제 (fee for service)", "단체 교섭 (collective bargaining)", "합작 투자 (joint venture)", "완화 (mitigating)"],
                    correctAnswer: "인두제 (capitation)",
                    explanation: "인두제(Capitation)는 환자 수에 따라 미리 정해진 고정 금액을 의료 제공자에게 지불하는 방식입니다."
                }
            ]
        };


        document.addEventListener('DOMContentLoaded', () => {
            const questionsWrapper = document.getElementById('questions-wrapper');

            // 퀴즈 렌더링 함수
            function renderQuiz() {
                questionsWrapper.innerHTML = ''; // 기존 내용 초기화

                // 주제별로 순회
                for (const topic in quizData) {
                    const topicGroup = document.createElement('div');
                    topicGroup.className = 'topic-group';

                    const topicHeader = document.createElement('h2');
                    topicHeader.innerText = topic;
                    topicGroup.appendChild(topicHeader);

                    const questions = quizData[topic]; // 순서 섞지 않음

                    questions.forEach((q) => {
                        const card = document.createElement('div');
                        card.className = 'question-card';

                        const questionText = document.createElement('div');
                        questionText.className = 'question-text';
                        questionText.innerText = q.question;
                        card.appendChild(questionText);

                        const optionsContainer = document.createElement('div');
                        optionsContainer.className = 'options-container';

                        q.options.forEach(opt => {
                            const optionButton = document.createElement('button');
                            optionButton.className = 'option';
                            optionButton.innerText = opt;
                            if (opt === q.correctAnswer) {
                                optionButton.dataset.correct = 'true';
                            }
                            optionsContainer.appendChild(optionButton);
                        });

                        card.appendChild(optionsContainer);

                        const explanationDiv = document.createElement('div');
                        explanationDiv.className = 'explanation';
                        explanationDiv.innerText = `해설: ${q.explanation}`;
                        card.appendChild(explanationDiv);

                        topicGroup.appendChild(card);
                    });
                    
                    questionsWrapper.appendChild(topicGroup);
                }
            }
            
            // 이벤트 위임을 사용하여 클릭 처리
            questionsWrapper.addEventListener('click', (event) => {
                const option = event.target.closest('.option');
                if (!option) return;

                const optionsContainer = option.parentElement;
                const questionCard = option.closest('.question-card');
                const explanation = questionCard.querySelector('.explanation');

                // 이미 정답을 맞춘 질문을 다시 클릭한 경우 초기화
                if (optionsContainer.classList.contains('answered')) {
                    optionsContainer.classList.remove('answered');
                    explanation.style.display = 'none';
                    const allOptions = optionsContainer.querySelectorAll('.option');
                    allOptions.forEach(opt => {
                        opt.disabled = false;
                        opt.classList.remove('correct', 'incorrect');
                    });
                    return; // 초기화 후 함수 종료
                }

                // 아직 답변하지 않은 질문인 경우
                if (option.dataset.correct === 'true') {
                    // 정답을 맞춘 경우
                    option.classList.add('correct');
                    optionsContainer.classList.add('answered'); // Mark as answered
                    explanation.style.display = 'block';

                    // 다른 보기들은 비활성화하지 않고 그대로 둡니다.
                    // 초기화 로직을 위해 클릭 이벤트를 계속 받을 수 있어야 합니다.

                } else {
                    // 오답을 고른 경우
                    option.classList.add('incorrect');
                    option.disabled = true; // 해당 오답만 비활성화
                }
            });

            // 페이지 로드 시 퀴즈 렌더링
            renderQuiz();
        });
    </script>
</body>
</html>

